(function(e){function t(t){for(var n,i,o=t[0],c=t[1],u=t[2],p=0,d=[];p<o.length;p++)i=o[p],Object.prototype.hasOwnProperty.call(a,i)&&a[i]&&d.push(a[i][0]),a[i]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(e[n]=c[n]);l&&l(t);while(d.length)d.shift()();return s.push.apply(s,u||[]),r()}function r(){for(var e,t=0;t<s.length;t++){for(var r=s[t],n=!0,o=1;o<r.length;o++){var c=r[o];0!==a[c]&&(n=!1)}n&&(s.splice(t--,1),e=i(i.s=r[0]))}return e}var n={},a={app:0},s=[];function i(t){if(n[t])return n[t].exports;var r=n[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,i),r.l=!0,r.exports}i.m=e,i.c=n,i.d=function(e,t,r){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(i.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)i.d(r,n,function(t){return e[t]}.bind(null,n));return r},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/test-task-voodoo-rocks-1/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],c=o.push.bind(o);o.push=t,o=o.slice();for(var u=0;u<o.length;u++)t(o[u]);var l=c;s.push([0,"chunk-vendors"]),r()})({0:function(e,t,r){e.exports=r("56d7")},3545:function(e,t,r){},"56d7":function(e,t,r){"use strict";r.r(t);r("e260"),r("e6cf"),r("cca6"),r("a79d");var n=r("2b0e"),a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"container my-3",attrs:{id:"app"}},[r("header",[r("AppHeaderSearch",{on:{submit:e.startFilterCardsByUser},model:{value:e.userFilter,callback:function(t){e.userFilter=t},expression:"userFilter"}})],1),r("main",[Object.keys(e.cards).length&&e.isLoadComplite?e._l(e.cards,(function(t,n){return r("AppCard",{key:"id_"+n,attrs:{title:t.title,body:t.body,userName:e.users[t.userId].name},on:{clickToUserName:function(t){(e.userFilter=t)&&e.startFilterCardsByUser()}}})})):e.isLoadComplite?r("AppLoader",{attrs:{icon:"cloud-slash-fill",text:"Данных нет"}}):r("AppLoader",{attrs:{icon:"hypnotize",text:"Загрузка",rotate:""}})],2)])},s=[],i=r("ade3"),o=r("1da1"),c=(r("96cf"),r("d3b7"),r("d81d"),r("3ca3"),r("ddb0"),r("7db0"),r("07ac"),r("2ca0"),r("b0c0"),function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"card"},[r("div",{staticClass:"card-body"},[r("h5",{staticClass:"card-title"},[r("a",{staticClass:"text-decoration-none",attrs:{href:"#"},domProps:{textContent:e._s(e.title)}})]),r("p",{staticClass:"card-text",domProps:{textContent:e._s(e.body)}}),r("p",{staticClass:"card-subtitle text-muted",staticStyle:{cursor:"pointer"},attrs:{title:e.userNameTitle},domProps:{textContent:e._s(e.userName)},on:{click:function(t){return e.$emit("clickToUserName",e.userName)}}})])])}),u=[],l={name:"AppCard",props:{title:String,body:String,userName:String,userNameTitle:{type:String,default:function(){return"Поиск по имени пользователя"}}}},p=l,d=r("2877"),f=Object(d["a"])(p,c,u,!1,null,null,null),m=f.exports,b=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"wrapper"},[r("i",{class:["bi bi-"+e.icon,{rotate:e.rotate}],style:{fontSize:e.size+"px"}}),e.text?r("span",{domProps:{textContent:e._s(e.text)}}):e._e()])},h=[],v=(r("a9e3"),{name:"AppLoader",props:{size:{type:Number,default:100},rotate:Boolean,text:String,icon:String}}),y=v,g=(r("c4fc"),Object(d["a"])(y,b,h,!1,null,"57089549",null)),x=g.exports,C=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("form",{on:{submit:function(t){return t.preventDefault(),e.$emit("submit")}}},[r("div",{staticClass:"form-group"},[r("div",{staticClass:"input-group mb-3"},[e.iconPrepend?r("div",{staticClass:"input-group-prepend"},[r("span",{staticClass:"input-group-text",staticStyle:{"border-radius":"0.25rem 0 0 0.25rem",cursor:"pointer"},attrs:{id:"basic-addon1"},on:{click:function(t){return e.$emit("submit")}}},[r("i",{class:"bi bi-"+e.iconPrepend})])]):e._e(),r("input",{staticClass:"form-control",attrs:{type:"text",placeholder:e.placeholder,"aria-label":"basic","aria-describedby":"basic-addon1"},domProps:{value:e.value},on:{input:function(t){return e.$emit("input",t.target.value)}}}),e.iconAppend?r("div",{staticClass:"input-group-append"},[r("span",{staticClass:"input-group-text",staticStyle:{"border-radius":"0 0.25rem 0.25rem 0",cursor:"pointer"},attrs:{id:"basic-addon1"},on:{click:function(t){e.value&&e.$emit("input","")&&e.$emit("submit")}}},[r("i",{class:"bi bi-"+e.iconAppend})])]):e._e()])])])},j=[],w={name:"AppHeaderSearch",props:{value:String,iconPrepend:{type:String,default:function(){return"search"}},iconAppend:{type:String,default:function(){return"trash"}},placeholder:{type:String,default:function(){return"Имя пользователя"}}}},S=w,_=Object(d["a"])(S,C,j,!1,null,null,null),O=_.exports,k={name:"App",data:function(){return{cards:{},users:{},userFilter:null,isLoadComplite:!1}},components:{AppCard:m,AppLoader:x,AppHeaderSearch:O},methods:{fetchCards:function(e){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function r(){var n,a,s,o;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.prev=0,t.isLoadComplite=!1,n="https://jsonplaceholder.typicode.com/posts",e&&(n+="?userId=".concat(e)),r.next=6,fetch(n);case 6:return a=r.sent,r.next=9,a.json();case 9:return s=r.sent,o=s.map((function(e){return t.getUserByUserId(e.userId)})),r.next=13,Promise.all(o);case 13:t.cards=s.reduce((function(e,t){return Object.assign(e,Object(i["a"])({},t.id,t))}),{}),r.next=18;break;case 16:r.prev=16,r.t0=r["catch"](0);case 18:t.isLoadComplite=!0;case 19:case"end":return r.stop()}}),r,null,[[0,16]])})))()},startFilterCardsByUser:function(){var e=this;if(this.cards={},this.userFilter){var t=Object.values(this.users).find((function(t){return t.name.startsWith(e.userFilter)}));if(!t)return;this.fetchCards(t.id)}else this.fetchCards()},getUserByUserId:function(e){var t=this;return new Promise(function(){var r=Object(o["a"])(regeneratorRuntime.mark((function r(n){var a;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:if(r.prev=0,t.users[e]){r.next=9;break}return t.users[e]={},r.next=5,fetch("https://jsonplaceholder.typicode.com/users/".concat(e));case 5:return a=r.sent,r.next=8,a.json();case 8:t.users[e]=r.sent;case 9:n(),r.next=14;break;case 12:r.prev=12,r.t0=r["catch"](0);case 14:case"end":return r.stop()}}),r,null,[[0,12]])})));return function(e){return r.apply(this,arguments)}}())}},beforeMount:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.fetchCards();case 1:case"end":return t.stop()}}),t)})))()}},P=k,A=(r("5c0b"),Object(d["a"])(P,a,s,!1,null,null,null)),$=A.exports,F=r("2f62");n["a"].use(F["a"]);var L=new F["a"].Store({state:{},mutations:{},actions:{},modules:{}});r("7b17"),r("cd74"),r("ab8b");n["a"].config.productionTip=!1,new n["a"]({store:L,render:function(e){return e($)}}).$mount("#app")},"5c0b":function(e,t,r){"use strict";r("9c0c")},"9c0c":function(e,t,r){},c4fc:function(e,t,r){"use strict";r("3545")}});
//# sourceMappingURL=app.b46c1e1f.js.map